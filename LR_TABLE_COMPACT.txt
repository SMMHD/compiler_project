╔════════════════════════════════════════════════════════════════════════════╗
║                   LR(0) Parsing Table - Compact Version                    ║
║                     نسخه فشرده برای گزارش Word/PDF                        ║
╚════════════════════════════════════════════════════════════════════════════╝

═══════════════════════════════════════════════════════════════════════════
                              ACTION TABLE
═══════════════════════════════════════════════════════════════════════════

┌───────┬──────────┬──────┬──────┬──────┬──────┬───┐
│ State │ Mnemonic │  [   │  ]   │ +/-  │ NUM  │ $ │
├───────┼──────────┼──────┼──────┼──────┼──────┼───┤
│   0   │   s3/s4  │      │      │      │      │   │
│   1   │          │      │      │      │      │ACC│
│   2   │          │  s6  │      │      │      │r2 │
│   3   │          │ r3-9 │      │      │      │r3 │
│   4   │          │      │      │      │      │r10│
│   5   │          │      │      │      │      │r1 │
│   6   │          │      │      │      │      │   │
│   7   │          │      │ s10  │      │      │   │
│   8   │          │      │ r15  │s12/13│      │   │
│   9   │          │      │ r16  │      │      │   │
│   10  │          │      │      │      │      │r13│
│   11  │          │      │      │      │      │r12│
│   12  │          │      │      │      │ s15  │   │
│   13  │          │      │      │      │ s16  │   │
│   14  │          │      │ r14  │      │      │   │
│   15  │          │      │ r17  │      │      │   │
│   16  │          │      │ r18  │      │      │   │
└───────┴──────────┴──────┴──────┴──────┴──────┴───┘

Notes:
  • Mnemonic: تمام دستورات (CLFLUSH, CLFLUSHOPT, ...)
  • s3/s4: بسته به نوع mnemonic
  • r3-9: هر mnemonic قانون خاص خود را دارد
  • s12/13: برای + یا -


═══════════════════════════════════════════════════════════════════════════
                               GOTO TABLE
═══════════════════════════════════════════════════════════════════════════

┌───────┬──────┬──────┬──────┬────────┬──────┬──────┬─────┬──────┐
│ State │ inst │ mnem │ oper │ mem_ad │ base │ offs │ REG │ IDENT│
├───────┼──────┼──────┼──────┼────────┼──────┼──────┼─────┼──────┤
│   0   │  1   │  2   │      │        │      │      │     │      │
│   2   │      │      │  5   │   11   │      │      │     │      │
│   6   │      │      │      │        │  7   │      │  8  │  9   │
│   8   │      │      │      │        │      │  14  │     │      │
│   12  │      │      │      │        │      │      │     │  15  │
│   13  │      │      │      │        │      │      │     │  16  │
└───────┴──────┴──────┴──────┴────────┴──────┴──────┴─────┴──────┘

Abbreviations:
  inst = instruction    │ mnem = mnemonic    │ oper = operand
  mem_ad = memory_addr  │ base = base_expr   │ offs = offset
  REG = REGISTER        │ IDENT = IDENTIFIER


═══════════════════════════════════════════════════════════════════════════
                            Detailed Mappings
═══════════════════════════════════════════════════════════════════════════

State 0 (Initial):
  ├─ CLFLUSH/CLFLUSHOPT/CLWB/PREFETCH* → Shift to State 3
  └─ WBINVD/INVD → Shift to State 4

State 3 (After Flush/Prefetch/WriteBack):
  └─ Reduce by R3-R9 (depends on mnemonic)

State 8 (After REGISTER):
  ├─ RBRACKET ] → Reduce R15 (REGISTER only)
  └─ PLUS/MINUS → Shift to State 12/13 (with offset)


═══════════════════════════════════════════════════════════════════════════
                          Grammar Rules (18 rules)
═══════════════════════════════════════════════════════════════════════════

R1:  instruction → mnemonic operand
R2:  instruction → mnemonic
R3-9: mnemonic → CLFLUSH|CLFLUSHOPT|CLWB|PREFETCH*|WBINVD|INVD
R10: mnemonic → WBINVD
R11: mnemonic → INVD
R12: operand → memory_address
R13: memory_address → [ base_expr ]
R14: base_expr → REGISTER offset
R15: base_expr → REGISTER
R16: base_expr → IDENTIFIER
R17: offset → + NUMBER
R18: offset → - NUMBER


═══════════════════════════════════════════════════════════════════════════
                             Example Usage
═══════════════════════════════════════════════════════════════════════════

CLFLUSH [EAX]:
  0 -CLFLUSH→ 3 -r3→ mnem → 2 -[→ 6 -EAX→ 8 -r15→ base → 7 -]→ 10
  → r13 → mem → 11 → r12 → oper → 5 → r1 → inst → 1 → ACC

WBINVD:
  0 -WBINVD→ 4 -r10→ mnem → 2 -r2→ inst → 1 → ACC


═══════════════════════════════════════════════════════════════════════════
تاریخ: 5 فوریه 2026 | نسخه فشرده | برای چاپ و گزارش ✅
═══════════════════════════════════════════════════════════════════════════
