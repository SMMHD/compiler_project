#!/usr/bin/env python3
"""
Ø¬Ø¯Ø§ÙˆÙ„ Ù¾Ø§Ø±Ø³ÛŒÙ†Ú¯ LR(0) - Ù†Ø³Ø®Ù‡ Ù†Ù‡Ø§ÛŒÛŒ ØªØµØ­ÛŒØ­ Ø´Ø¯Ù‡
Ø¨Ø§ Ù†Ø§Ù… token Ù‡Ø§ÛŒ ØµØ­ÛŒØ­ Ø§Ø² Lexer

Ù¾Ø±ÙˆÚ˜Ù‡ Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„Ø± - Ú¯Ø±ÙˆÙ‡ 15
Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ Ø´Ù‡ÛŒØ¯ Ø¨Ø§Ù‡Ù†Ø± Ú©Ø±Ù…Ø§Ù†
Ù†Ø³Ø®Ù‡ Ù†Ù‡Ø§ÛŒÛŒ - Ú˜Ø§Ù†ÙˆÛŒÙ‡ 2026
"""

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ù‚ÙˆØ§Ù†ÛŒÙ† Ú¯Ø±Ø§Ù…Ø± (Grammar Rules)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

GRAMMAR_RULES = {
    1: "instruction -> mnemonic operand",
    2: "instruction -> mnemonic",
    3: "mnemonic -> CLFLUSH",
    4: "mnemonic -> CLFLUSHOPT",
    5: "mnemonic -> CLWB",
    6: "mnemonic -> PREFETCHT0",
    7: "mnemonic -> PREFETCHT1",
    8: "mnemonic -> PREFETCHT2",
    9: "mnemonic -> PREFETCHNTA",
    10: "mnemonic -> WBINVD",
    11: "mnemonic -> INVD",
    12: "operand -> memory_address",
    13: "memory_address -> LBRACKET base_expr RBRACKET",
    14: "base_expr -> REGISTER offset",
    15: "base_expr -> REGISTER",
    16: "base_expr -> IDENTIFIER",
    17: "offset -> PLUS NUMBER",
    18: "offset -> MINUS NUMBER"
}

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Ø¬Ø¯ÙˆÙ„ Ù¾Ø§Ø±Ø³ÛŒÙ†Ú¯ LR(0) - Ù†Ø³Ø®Ù‡ ØªØµØ­ÛŒØ­ Ø´Ø¯Ù‡ Ø¨Ø§ Ù†Ø§Ù… token Ù‡Ø§ÛŒ ØµØ­ÛŒØ­
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

LR_PARSING_TABLE = {

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 0: Initial State
    # Items: S' -> . instruction
    #        instruction -> . mnemonic operand
    #        instruction -> . mnemonic
    #        mnemonic -> . CLFLUSH/CLFLUSHOPT/CLWB/PREFETCH*/WBINVD/INVD
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    0: {
        'CLFLUSH': 's3',
        'CLFLUSHOPT': 's3',
        'CLWB': 's3',
        'PREFETCHT0': 's3',
        'PREFETCHT1': 's3',
        'PREFETCHT2': 's3',
        'PREFETCHNTA': 's3',
        'WBINVD': 's4',
        'INVD': 's4',
        'instruction': 1,
        'mnemonic': 2
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 1: After instruction
    # Items: S' -> instruction .
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    1: {
        '$': 'acc'
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 2: After mnemonic
    # Items: instruction -> mnemonic .
    #        instruction -> mnemonic . operand
    #        operand -> . memory_address
    #        memory_address -> . LBRACKET base_expr RBRACKET
    #
    # âœ… ØªØµØ­ÛŒØ­: Ø§ÛŒÙ† state Ø¨Ø§ÛŒØ¯ Ù‡Ù… LBRACKET Ùˆ Ù‡Ù… $ Ø±Ø§ Ø¨Ù¾Ø°ÛŒØ±Ø¯
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    2: {
        'LBRACKET': 's6',  # shift if operand follows
        '$': 'r2',  # reduce if no operand (instruction -> mnemonic)
        'operand': 5,
        'memory_address': 11
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 3: After CLFLUSH/CLFLUSHOPT/CLWB/PREFETCH*
    # Items: mnemonic -> CLFLUSH/CLFLUSHOPT/CLWB/PREFETCH* .
    #
    # âœ… ØªØµØ­ÛŒØ­: Ø§ÛŒÙ† state Ø¨Ø§ÛŒØ¯ Ù‡Ù… LBRACKET Ùˆ Ù‡Ù… $ Ø±Ø§ Ø¨Ù¾Ø°ÛŒØ±Ø¯
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    3: {
        'LBRACKET': 'r3',  # reduce - mnemonic recognized
        '$': 'r3'  # reduce - mnemonic recognized
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 4: After WBINVD/INVD
    # Items: mnemonic -> WBINVD/INVD .
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    4: {
        '$': 'r10'  # reduce by R10 or R11 (Ø¨Ø³ØªÙ‡ Ø¨Ù‡ mnemonic)
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 5: After mnemonic operand
    # Items: instruction -> mnemonic operand .
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    5: {
        '$': 'r1'  # reduce - instruction complete
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 6: After LBRACKET
    # Items: memory_address -> LBRACKET . base_expr RBRACKET
    #        base_expr -> . REGISTER offset
    #        base_expr -> . REGISTER
    #        base_expr -> . IDENTIFIER
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    6: {
        'REGISTER': 's8',
        'IDENTIFIER': 's9',
        'base_expr': 7
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 7: After LBRACKET base_expr
    # Items: memory_address -> LBRACKET base_expr . RBRACKET
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    7: {
        'RBRACKET': 's10'
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 8: After LBRACKET REGISTER
    # Items: base_expr -> REGISTER .
    #        base_expr -> REGISTER . offset
    #        offset -> . PLUS NUMBER
    #        offset -> . MINUS NUMBER
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    8: {
        'RBRACKET': 'r15',  # reduce - base_expr -> REGISTER
        'PLUS': 's12',  # shift if offset follows
        'MINUS': 's13',  # shift if offset follows
        'offset': 14
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 9: After LBRACKET IDENTIFIER
    # Items: base_expr -> IDENTIFIER .
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    9: {
        'RBRACKET': 'r16'  # reduce - base_expr -> IDENTIFIER
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 10: After LBRACKET base_expr RBRACKET
    # Items: memory_address -> LBRACKET base_expr RBRACKET .
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    10: {
        '$': 'r13'  # reduce - memory_address complete
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 11: After memory_address
    # Items: operand -> memory_address .
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    11: {
        '$': 'r12'  # reduce - operand -> memory_address
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 12: After REGISTER PLUS
    # Items: offset -> PLUS . NUMBER
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    12: {
        'NUMBER': 's15'
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 13: After REGISTER MINUS
    # Items: offset -> MINUS . NUMBER
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    13: {
        'NUMBER': 's16'
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 14: After REGISTER offset
    # Items: base_expr -> REGISTER offset .
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    14: {
        'RBRACKET': 'r14'  # reduce - base_expr -> REGISTER offset
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 15: After PLUS NUMBER
    # Items: offset -> PLUS NUMBER .
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    15: {
        'RBRACKET': 'r17'  # reduce - offset -> PLUS NUMBER
    },

    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    # State 16: After MINUS NUMBER
    # Items: offset -> MINUS NUMBER .
    # â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    16: {
        'RBRACKET': 'r18'  # reduce - offset -> MINUS NUMBER
    }
}


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªÙˆØ§Ø¨Ø¹ Ú©Ù…Ú©ÛŒ
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

def print_lr_table():
    """Ú†Ø§Ù¾ Ø¬Ø¯ÙˆÙ„ LR Ø¨Ù‡ ØµÙˆØ±Øª Ø²ÛŒØ¨Ø§"""
    print("\n" + "â•" * 100)
    print("Ø¬Ø¯ÙˆÙ„ Ù¾Ø§Ø±Ø³ÛŒÙ†Ú¯ LR(0) - Ù†Ø³Ø®Ù‡ ØªØµØ­ÛŒØ­ Ø´Ø¯Ù‡")
    print("â•" * 100)

    for state, actions in LR_PARSING_TABLE.items():
        print(f"\nState {state}:")
        for symbol, action in actions.items():
            if isinstance(action, int):
                print(f"  {symbol:<20} -> goto {action}")
            else:
                print(f"  {symbol:<20} -> {action}")

    print("\n" + "â•" * 100)


def print_grammar():
    """Ú†Ø§Ù¾ Ù‚ÙˆØ§Ù†ÛŒÙ† Ú¯Ø±Ø§Ù…Ø±"""
    print("\n" + "â•" * 100)
    print("Ù‚ÙˆØ§Ù†ÛŒÙ† Ú¯Ø±Ø§Ù…Ø±")
    print("â•" * 100)

    for rule_num, rule in GRAMMAR_RULES.items():
        print(f"R{rule_num:<2}: {rule}")

    print("\n" + "â•" * 100)


def verify_table():
    """Ø¨Ø±Ø±Ø³ÛŒ ØµØ­Øª Ø¬Ø¯ÙˆÙ„"""
    print("\nğŸ” Ø¨Ø±Ø±Ø³ÛŒ ØµØ­Øª Ø¬Ø¯ÙˆÙ„ LR...")

    issues = []

    # Ø¨Ø±Ø±Ø³ÛŒ State 3
    if 'LBRACKET' in LR_PARSING_TABLE[3] and '$' in LR_PARSING_TABLE[3]:
        print("âœ… State 3: Ù‡Ù… LBRACKET Ùˆ Ù‡Ù… $ Ø¯Ø§Ø±Ø¯")
    else:
        issues.append("âŒ State 3: LBRACKET ÛŒØ§ $ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯")

    # Ø¨Ø±Ø±Ø³ÛŒ State 2
    if 'LBRACKET' in LR_PARSING_TABLE[2] and '$' in LR_PARSING_TABLE[2]:
        print("âœ… State 2: Ù‡Ù… LBRACKET Ùˆ Ù‡Ù… $ Ø¯Ø§Ø±Ø¯")
    else:
        issues.append("âŒ State 2: LBRACKET ÛŒØ§ $ ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯")

    # Ø¨Ø±Ø±Ø³ÛŒ Ù†ÙˆØ¹ action Ù‡Ø§
    for state, actions in LR_PARSING_TABLE.items():
        for symbol, action in actions.items():
            if not isinstance(action, (int, str)):
                issues.append(f"âŒ State {state}, Symbol {symbol}: Ù†ÙˆØ¹ action Ù†Ø§Ù…Ø¹ØªØ¨Ø± ({type(action)})")

    if issues:
        print("\nâš ï¸  Ù…Ø´Ú©Ù„Ø§Øª Ù¾ÛŒØ¯Ø§ Ø´Ø¯Ù‡:")
        for issue in issues:
            print(f"  {issue}")
    else:
        print("\nâœ… Ø¬Ø¯ÙˆÙ„ Ú©Ø§Ù…Ù„Ø§Ù‹ ØµØ­ÛŒØ­ Ø§Ø³Øª!")

    return len(issues) == 0


# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# ØªØ³Øª (Ø¨Ø±Ø§ÛŒ Ø§Ø¬Ø±Ø§ÛŒ Ù…Ø³ØªÙ‚Ù„)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

if __name__ == "__main__":
    print("\n" + "â•”" + "â•" * 98 + "â•—")
    print("â•‘" + " " * 35 + "Ø¬Ø¯Ø§ÙˆÙ„ Ù¾Ø§Ø±Ø³ÛŒÙ†Ú¯ LR(0)" + " " * 43 + "â•‘")
    print("â•‘" + " " * 35 + "Ù¾Ø±ÙˆÚ˜Ù‡ Ú©Ø§Ù…Ù¾Ø§ÛŒÙ„Ø± - Ú¯Ø±ÙˆÙ‡ 15" + " " * 39 + "â•‘")
    print("â•‘" + " " * 28 + "Ø¯Ø§Ù†Ø´Ú¯Ø§Ù‡ Ø´Ù‡ÛŒØ¯ Ø¨Ø§Ù‡Ù†Ø± Ú©Ø±Ù…Ø§Ù† - Ø²Ù…Ø³ØªØ§Ù† Û±Û´Û°Û´" + " " * 30 + "â•‘")
    print("â•š" + "â•" * 98 + "â•")

    print_grammar()
    print_lr_table()
    verify_table()

    print("\n" + "â•" * 100)
    print("ğŸ“Š Ø¢Ù…Ø§Ø± Ø¬Ø¯ÙˆÙ„")
    print("â•" * 100)
    print(f"ØªØ¹Ø¯Ø§Ø¯ State Ù‡Ø§: {len(LR_PARSING_TABLE)}")
    print(f"ØªØ¹Ø¯Ø§Ø¯ Ù‚ÙˆØ§Ù†ÛŒÙ†: {len(GRAMMAR_RULES)}")
    print("\nâœ… ÙØ§ÛŒÙ„ lr_tables.py Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³Øª!")
    print("â•" * 100 + "\n")
